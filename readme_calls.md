Анализ системы звонков с использованием AI
Архитектура системы
Система анализа звонков представляет собой комплексное решение, состоящее из следующих компонентов:
Бэкенд (Flask):
API-сервер на Python/Flask (api.py) для обработки запросов от фронтенда
Работа с Excel-файлами через pandas
Асинхронная транскрибация аудиозаписей через Whisper API
Анализ транскрипций через LLM (Groq/Gemini)
Фронтенд (React/TypeScript):
Компонентная архитектура с использованием React
Интерфейс для работы с звонками: таблица, детальный просмотр, анализ
Поддержка пользовательских запросов для специфического анализа
Ключевые функции
Загрузка и управление данными:
Загрузка Excel-файлов со звонками через пользовательский интерфейс
Отображение прогресса загрузки и валидация файлов
Резервное копирование загруженных файлов
Работа с различными форматами данных в Excel
Транскрибация звонков:
Асинхронная обработка аудиозаписей из URL
Использование Whisper-large-v3-turbo для транскрибации на русском языке
Обработка пакетов звонков с контролем результатов
Возможность перетранскрибации существующих записей
AI-анализ транскрипций:
Использование моделей Groq (Llama-4) и Gemini для анализа
Выделение ключевых метрик: тип звонка, результат, оценка эффективности
Генерация тегов и ключевых инсайтов
Определение цитат, подтверждающих выводы
Пользовательские запросы:
Возможность задавать специфические вопросы для анализа звонков
Специализированный анализ по пользовательским критериям
Генерация рекомендаций на основе запросов
Технические особенности
Обработка данных:
Исправлена сериализация значений int64 для корректной работы с JSON
Поддержка различных форматов даты/времени
Работа с пустыми значениями в транскрипциях ('-', '', NaN)
Безопасная обработка ошибок при загрузке и обработке данных
Интеграция с AI:
Поддержка двух API-ключей: GOOGLE_API_KEY и GEMINI_API_KEY
Использование Groq API в качестве резервного варианта
Расширенный анализ с помощью продвинутых моделей (Llama-4, Gemma-3)
Структурированный вывод в формате JSON для единообразной обработки
Отображение результатов:
Интерактивная таблица с сортировкой по различным полям
Детальное представление звонка с метриками качества
Визуализация тегов и оценок
Возможность работы с выбранными звонками для группового анализа
Решение проблем и улучшения
Исправленные ошибки:
Решены проблемы с обработкой различных форматов даты
Исправлена сериализация числовых значений для корректной работы с JSON
Добавлена поддержка обоих API-ключей для AI-моделей
Исправлены проблемы с PowerShell через использование cmd /c
Последние улучшения:
Добавлен столбец "Ответ на запрос" для отображения результатов пользовательского анализа
Исправлено отображение незаполняемых метрик в деталях звонков
Автоматическое заполнение данных на основе результатов AI-анализа
Улучшена логика анализа для работы с разными моделями (Gemini/Llama)
Рабочий процесс системы
Пользователь загружает Excel-файл со звонками через интерфейс
Система проверяет данные, создает резервную копию и анализирует содержимое
Пользователь выбирает звонки для транскрибации или анализа
Система асинхронно обрабатывает транскрипции через Whisper API
Результаты транскрибации сохраняются в Excel и отображаются в интерфейсе
Пользователь может запустить AI-анализ выбранных звонков
Система обрабатывает звонки через модели Gemini/Groq и предоставляет результаты
Пользователь может задать специфические запросы для дополнительного анализа
Система успешно комбинирует современные технологии AI для создания комплексного решения по анализу телефонных звонков, предоставляя ценные инсайты и рекомендации для улучшения работы операторов.